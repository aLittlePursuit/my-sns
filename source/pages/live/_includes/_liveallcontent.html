<div class="live-all">
    <div class="live-title-box clearfix">
        <ul class="list pull-left">
            <li class="list-cell"><a href="#" class="active">全部</a></li>
            <li class="list-cell"><a href="#">即将开始</a></li>
            <li class="list-cell"><a href="#">正在直播</a></li>
            <li class="list-cell"><a href="#">精彩录播</a></li>
        </ul>
        <div class="pull-right">
            <i class="fa fa-sort-amount-asc"></i>
            <a href="#" class="all-link-other active">按时间</a><a href="#" class="all-link-other">按热度</a>
        </div>
    </div>
    <div class="live-content-box pb-0">
        <div class="row">
            <div class="row">
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <div class="state-hint">
                            <i class="fa fa-circle"></i> 直播中
                        </div>
                        <a class="live-play-mask">
                                <span class="change-bgimage">
                                    <span class="icons icons-play"></span>
                                    <span class="icons icons-play-hover"></span>
                                </span>
                        </a>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href="#" class="no-avatar"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高世</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post">主任医生</span>
                                <span class="pull-right">
                                        <i class="fa fa-user"></i> 101万
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <div class="state-hint">
                            <i class="fa fa-circle"></i> 直播中
                        </div>
                        <div class="live-play-mask live-play-mask-other" onclick="lockVideo()">
                            <i class="fa fa-lock"></i>
                        </div>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高世军</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post">主任医生</span>
                                <span class="pull-right">
                                        <i class="fa fa-user"></i> 101万
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <div class="state-hint">
                            <i class="fa fa-circle"></i> 直播中
                        </div>
                        <a class="live-play-mask">
                                <span class="change-bgimage">
                                    <span class="icons icons-play"></span>
                                    <span class="icons icons-play-hover"></span>
                                </span>
                        </a>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高世军</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post">主任医生</span>
                                <span class="pull-right">
                                        <i class="fa fa-user"></i> 101万
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <div class="state-hint">
                            <i class="fa fa-circle"></i> 直播中
                        </div>
                        <a class="live-play-mask">
                            <span class="live-play-btn"></span>
                        </a>
                        <div class="live-play-mask live-play-mask-other" onclick="lockVideo()">
                            <i class="fa fa-lock"></i>
                        </div>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href="#" class="no-avatar"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">白求恩</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                        <i class="fa fa-user"></i> 101万
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <div class="live-play-mask live-play-mask-other live-play-mask-block" onclick="lockVideo()">
                            <span class="live-remain-time">06-19 12:50 开始</span>
                            <i class="fa fa-lock remain-time-lock"></i>
                        </div>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高世军</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                <i class="fa fa-user"></i> 101万
                            </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <a class="live-play-mask live-play-mask-block">
                            <span class="live-remain-time">06-19 12:50 开始</span>
                        </a>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高世军</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                <i class="fa fa-user"></i> 101万
                            </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <div class="live-play-mask live-play-mask-other live-play-mask-block" onclick="lockVideo()">
                            <span class="live-remain-time">06-19 12:50 开始</span>
                            <i class="fa fa-lock remain-time-lock"></i>
                        </div>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高世军</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                <i class="fa fa-user"></i> 101万
                            </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <a class="live-play-mask live-play-mask-block">
                            <span class="live-remain-time">06-19 12:50 开始</span>
                        </a>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高世军</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                <i class="fa fa-user"></i> 101万
                            </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <a class="live-play-mask">
                        <span class="change-bgimage">
                            <span class="icons icons-play"></span>
                            <span class="icons icons-play-hover"></span>
                        </span>
                        </a>
                        <div class="icons icons-recorded-mask live-play-count clearfix">
                            <div class="pull-left">6万次播放</div>
                            <div class="pull-right">67:26</div>
                        </div>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href="#" class="no-avatar"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">test</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                <i class="fa fa-user"></i> 101万
                            </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <div class="live-play-mask live-play-mask-other" onclick="lockVideo()">
                            <i class="fa fa-lock"></i>
                        </div>
                        <div class="icons icons-recorded-mask live-play-count clearfix">
                            <div class="pull-left">6万次播放</div>
                            <div class="pull-right">67:26</div>
                        </div>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高富帅</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                <i class="fa fa-user"></i> 101万
                            </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <div class="live-play-mask live-play-mask-other" onclick="lockVideo()">
                            <i class="fa fa-lock"></i>
                        </div>
                        <div class="icons icons-recorded-mask live-play-count clearfix">
                            <div class="pull-left">6万次播放</div>
                            <div class="pull-right">67:26</div>
                        </div>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高富帅</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                        <i class="fa fa-user"></i> 101万
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3">
                    <div class="hot-recommend">
                        <a class="live-play-mask">
                        <span class="change-bgimage">
                            <span class="icons icons-play"></span>
                            <span class="icons icons-play-hover"></span>
                        </span>
                        </a>
                        <div class="icons icons-recorded-mask live-play-count clearfix">
                            <div class="pull-left">6万次播放</div>
                            <div class="pull-right">67:26</div>
                        </div>
                        <a href="#"><img width="100%" height="100%" src="../../images/core/test.png" alt=""></a>
                    </div>
                    <div class="hot-people-info clearfix">
                        <div class="people-avatar pull-left">
                            <a href=""><img src="../../images/core/avatar.png" width="40" height="40" alt="" class="img-circle"></a>
                        </div>
                        <div class="people-info">
                            <div class="play-title"><a href="">严重膝内翻CR置换不松懈软组织技术</a></div>
                            <div class="attention">
                                <span class="live-name">高富帅</span>
                                <span class="live-cutline">|</span>
                                <span class="live-post"></span>
                                <span class="pull-right">
                                        <i class="fa fa-user"></i> 101万
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // 没有头像显示名称最后字符
    $(function() {
        var liveName = $('.live-name');
        for (i = 0; i < liveName.length; i++) {
            var nameSplit = liveName.eq(i).text().split('');
            var nameLenth = nameSplit.length;
            liveName.eq(i).parents('.hot-people-info').find('.people-avatar > .no-avatar').text(nameSplit[nameLenth - 1]);
        }
    });

    // 有职位时显示分割线
    $(function() {
        var livePost = $('.live-post');
        for(i = 0; i < livePost.length; i++) {
            var livePostText = livePost.eq(i).text();
            if(livePostText != '') {
                livePost.eq(i).parent().find('.live-cutline').show();
            }
        }
    });

    //加密视频点击事件
    function lockVideo() {
        var index = layer.open({
            type: 1,
            title: ' ',
            area : ['400px' , ''],
            shadeClose: false, //点击遮罩关闭层
            content: $('#dialogKey')
        });
        $('.btn-ok').click(function() {
            layer.close(index);
        })
    }


    //展示视频窗口鼠标移入事件
    $(function() {
        var shiftInTarget = $('.hot-recommend');
        shiftInTarget.on('mouseover', function () {
            $(this).find('.live-play-mask').show();
        });
        shiftInTarget.on('mouseleave', function () {
            $(this).find('.live-play-mask').hide().parent().find('.live-play-mask-block').show();
        });
    });
</script>
